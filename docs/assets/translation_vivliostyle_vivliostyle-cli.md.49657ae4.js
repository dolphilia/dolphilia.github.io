import{_ as s,c as a,o as l,Q as n}from"./chunks/framework.44f152d8.js";const C=JSON.parse('{"title":"Vivliostyle CLI","description":"","frontmatter":{},"headers":[],"relativePath":"translation/vivliostyle/vivliostyle-cli.md","lastUpdated":1676974355000}'),e={name:"translation/vivliostyle/vivliostyle-cli.md"},o=n(`<h1 id="vivliostyle-cli" tabindex="-1">Vivliostyle CLI <a class="header-anchor" href="#vivliostyle-cli" aria-label="Permalink to &quot;Vivliostyle CLI&quot;">​</a></h1><p>Vivliostyle CLI は、HTMLやマークダウン文書を組版するためのコマンドラインインターフェイスです。</p><nav class="table-of-contents"><ul><li><a href="#インストール">インストール</a></li><li><a href="#html-から-pdf-を生成">HTML から PDF を生成</a><ul><li><a href="#出力-pdf-ファイルの指定">出力 PDF ファイルの指定</a></li><li><a href="#pdf-を出力しないで結果を見るには">PDF を出力しないで結果を見るには</a></li><li><a href="#ページサイズの指定">ページサイズの指定</a></li><li><a href="#web-の-url-の指定">Web の URL の指定</a></li><li><a href="#単一-html-文書の指定">単一 HTML 文書の指定</a></li></ul></li><li><a href="#スタイルシートの追加の指定">スタイルシートの追加の指定</a><ul><li><a href="#ユーザースタイルシートの指定">ユーザースタイルシートの指定</a></li></ul></li><li><a href="#epub-から-pdf-を生成">EPUB から PDF を生成</a><ul><li><a href="#epub-用のユーザースタイルシートの例">EPUB 用のユーザースタイルシートの例</a></li><li><a href="#解凍された-epub-から-pdf-を生成">解凍された EPUB から PDF を生成</a></li></ul></li><li><a href="#markdown-から-pdf-を生成">Markdown から PDF を生成</a><ul><li><a href="#vfm-vivliostyle-flavored-markdown-について">VFM (Vivliostyle Flavored Markdown) について</a></li><li><a href="#テーマ-css-スタイルシートの指定">テーマ CSS スタイルシートの指定</a></li></ul></li><li><a href="#組版結果のプレビュー">組版結果のプレビュー</a><ul><li><a href="#多数の文書から構成される出版物をすばやくプレビュー">多数の文書から構成される出版物をすばやくプレビュー</a></li></ul></li><li><a href="#vivliostyle-themes-について">Vivliostyle Themes について</a><ul><li><a href="#theme-を見つける">Theme を見つける</a></li><li><a href="#theme-のインストール">Theme のインストール</a></li><li><a href="#create-book-の利用">Create Book の利用</a></li></ul></li><li><a href="#構成ファイル-vivliostyle-config-js">構成ファイル vivliostyle.config.js</a><ul><li><a href="#構成ファイルの作成">構成ファイルの作成</a></li><li><a href="#構成ファイルの設定内容">構成ファイルの設定内容</a></li></ul></li><li><a href="#印刷用-pdf-pdf-x-1a-形式-の生成">印刷用 PDF（PDF/X-1a 形式）の生成</a></li><li><a href="#pdf-の「しおり」-bookmarks-の生成">PDF の「しおり」(Bookmarks) の生成</a></li><li><a href="#目次の作成">目次の作成</a><ul><li><a href="#構成ファイルでの目次生成の指定">構成ファイルでの目次生成の指定</a></li><li><a href="#目次タイトルの指定">目次タイトルの指定</a></li><li><a href="#目次を出版物の先頭以外の場所に出力するには">目次を出版物の先頭以外の場所に出力するには</a></li><li><a href="#目次を自分で作成するには">目次を自分で作成するには</a></li></ul></li><li><a href="#web-出版物-webpub">Web 出版物 (webpub)</a></li><li><a href="#その他のオプション">その他のオプション</a></li></ul></nav><h2 id="インストール" tabindex="-1">インストール <a class="header-anchor" href="#インストール" aria-label="Permalink to &quot;インストール&quot;">​</a></h2><p>事前に <a href="https://nodejs.org/ja/" target="_blank" rel="noreferrer">Node.js</a> (v14 以上) のインストールが必要です。</p><p>次のコマンドで Vivliostyle CLI をインストールできます:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm install -g @vivliostyle/cli</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="html-から-pdf-を生成" tabindex="-1">HTML から PDF を生成 <a class="header-anchor" href="#html-から-pdf-を生成" aria-label="Permalink to &quot;HTML から PDF を生成&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドで HTML ファイルを指定すると、HTML から組版した結果の PDF ファイルが出力されます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build index.html</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>デフォルトで出力される PDF ファイル名は &quot;output.pdf&quot; です。</p><h3 id="出力-pdf-ファイルの指定" tabindex="-1">出力 PDF ファイルの指定 <a class="header-anchor" href="#出力-pdf-ファイルの指定" aria-label="Permalink to &quot;出力 PDF ファイルの指定&quot;">​</a></h3><p><code>-o</code> (<code>--output</code>) オプションで PDF ファイル名を指定できます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build book.html -o book.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="pdf-を出力しないで結果を見るには" tabindex="-1">PDF を出力しないで結果を見るには <a class="header-anchor" href="#pdf-を出力しないで結果を見るには" aria-label="Permalink to &quot;PDF を出力しないで結果を見るには&quot;">​</a></h3><p>PDF を出力しないで組版結果を確認する方法については <a href="#組版結果のプレビュー">組版結果のプレビュー</a> を参照してください。</p><h3 id="ページサイズの指定" tabindex="-1">ページサイズの指定 <a class="header-anchor" href="#ページサイズの指定" aria-label="Permalink to &quot;ページサイズの指定&quot;">​</a></h3><p><code>-s</code> (<code>--size</code>) オプションでページサイズを指定できます。指定できるサイズは、A5, A4, A3, B5, B4, JIS-B5, JIS-B4, letter, legal, ledger のいずれか、またはコンマで区切って幅と高さを指定します。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build paper.html -s A4 -o paper.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle build letter.html -s letter -o letter.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle build slide.html -s 10in,7.5in -o slide.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="web-の-url-の指定" tabindex="-1">Web の URL の指定 <a class="header-anchor" href="#web-の-url-の指定" aria-label="Permalink to &quot;Web の URL の指定&quot;">​</a></h3><p>ローカルの HTML ファイルのほか、Web の URL を指定することもできます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build https://vivliostyle.github.io/vivliostyle_doc/samples/gutenberg/Alice.html -s A4 -o Alice.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="単一-html-文書の指定" tabindex="-1">単一 HTML 文書の指定 <a class="header-anchor" href="#単一-html-文書の指定" aria-label="Permalink to &quot;単一 HTML 文書の指定&quot;">​</a></h3><p>Vivliostyle CLI のデフォルトの動作では、コマンドラインで指定された HTML 文書内に、別の HTML 文書へのリンクからなる目次がある場合、または、出版物マニフェストへのリンクがある場合、複数文書で構成される出版物（webbook あるいは webpub）の組版処理を行います。 <code>-d</code> (<code>--single-doc</code>) オプションを指定するとこの動作が変わり、単一の HTML 文書のみ組版することができます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build index.html --single-doc</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="スタイルシートの追加の指定" tabindex="-1">スタイルシートの追加の指定 <a class="header-anchor" href="#スタイルシートの追加の指定" aria-label="Permalink to &quot;スタイルシートの追加の指定&quot;">​</a></h2><p>HTMLファイルに指定されているスタイルシートに加えて、追加のスタイルシート（CSSファイル）を使うには、<code>--style</code> オプションでスタイルシートを指定します。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build example.html --style additional-style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>この方法で指定したスタイルシートは、HTMLファイルで指定されているスタイルシートと同様（<a href="https://developer.mozilla.org/ja/docs/Web/CSS/Cascade#author_stylesheets" target="_blank" rel="noreferrer">制作者スタイルシート</a>）の扱いで、よりあとに指定されたことになるので、CSSのカスケーディング規則により、HTMLファイルからのスタイルの指定を上書きすることになります。</p><h3 id="ユーザースタイルシートの指定" tabindex="-1">ユーザースタイルシートの指定 <a class="header-anchor" href="#ユーザースタイルシートの指定" aria-label="Permalink to &quot;ユーザースタイルシートの指定&quot;">​</a></h3><p><a href="https://developer.mozilla.org/ja/docs/Web/CSS/Cascade#user_stylesheets" target="_blank" rel="noreferrer">ユーザースタイルシート</a>を使うには、<code>--user-style</code> オプションでスタイルシートを指定します。（ユーザースタイルシートは、スタイル指定に <code>!important</code> を付けないかぎり、制作者スタイルシートのスタイル指定を上書きしません。）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build example.html --user-style user-style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="epub-から-pdf-を生成" tabindex="-1">EPUB から PDF を生成 <a class="header-anchor" href="#epub-から-pdf-を生成" aria-label="Permalink to &quot;EPUB から PDF を生成&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドで EPUB ファイルを指定すると、EPUB から組版した結果の PDF ファイルが出力されます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build epub-sample.epub -s A5 --user-style epub-style.css -o epub-sample.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="epub-用のユーザースタイルシートの例" tabindex="-1">EPUB 用のユーザースタイルシートの例 <a class="header-anchor" href="#epub-用のユーザースタイルシートの例" aria-label="Permalink to &quot;EPUB 用のユーザースタイルシートの例&quot;">​</a></h3><p>EPUB を好みのページスタイルにして組版するには、<a href="#ユーザースタイルシートの指定">ユーザースタイルシートの指定</a>が必要です。</p><p>EPUB 用のユーザースタイルシートの例: epub-style.css</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">@page</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  @top-center {     </span><span style="color:#676E95;font-style:italic;">/* ページヘッダー */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">writing-mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> horizontal-tb</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">font-size</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">75%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> string(title)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">@bottom-center</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/* ページフッター */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">writing-mode</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">horizontal-tb</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">font-size</span><span style="color:#A6ACCD;">: 67%;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">content</span><span style="color:#A6ACCD;">: counter(page);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">@page</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">first</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">/* 表紙ページ */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  @top-center {</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> none</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">@bottom-center</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">content</span><span style="color:#A6ACCD;">: none;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">title</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">string-set</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> title content()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">img</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">/* 画像がページに収まるように */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">max-width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100vw</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">!important</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">max-height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100vh</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">!important</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="解凍された-epub-から-pdf-を生成" tabindex="-1">解凍された EPUB から PDF を生成 <a class="header-anchor" href="#解凍された-epub-から-pdf-を生成" aria-label="Permalink to &quot;解凍された EPUB から PDF を生成&quot;">​</a></h3><p>解凍(unzip)された EPUB から PDF を生成するには、EPUB の OPF ファイルを指定します。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">unzip epub-sample.epub</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle build item/standard.opf -s A5 --user-style epub-style.css -o epub-sample.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="markdown-から-pdf-を生成" tabindex="-1">Markdown から PDF を生成 <a class="header-anchor" href="#markdown-から-pdf-を生成" aria-label="Permalink to &quot;Markdown から PDF を生成&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドで Markdown ファイルを指定すると、Markdown から組版した結果の PDF ファイルが出力されます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build manuscript.md -s A4 -o paper.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="vfm-vivliostyle-flavored-markdown-について" tabindex="-1">VFM (Vivliostyle Flavored Markdown) について <a class="header-anchor" href="#vfm-vivliostyle-flavored-markdown-について" aria-label="Permalink to &quot;VFM (Vivliostyle Flavored Markdown) について&quot;">​</a></h3><p>Vivliostyle CLI で利用可能な Markdown 記法については、<a href="https://vivliostyle.github.io/vfm/#/" target="_blank" rel="noreferrer">VFM: Vivliostyle Flavored Markdown</a> を参照してください。</p><h3 id="テーマ-css-スタイルシートの指定" tabindex="-1">テーマ CSS スタイルシートの指定 <a class="header-anchor" href="#テーマ-css-スタイルシートの指定" aria-label="Permalink to &quot;テーマ CSS スタイルシートの指定&quot;">​</a></h3><p><code>-T</code> (<code>--theme</code>) オプションで CSS ファイルを指定することができます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build manuscript.md --theme my-theme/style.css -o paper.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="組版結果のプレビュー" tabindex="-1">組版結果のプレビュー <a class="header-anchor" href="#組版結果のプレビュー" aria-label="Permalink to &quot;組版結果のプレビュー&quot;">​</a></h2><p><code>vivliostyle preview</code> コマンドで組版結果をブラウザでプレビューすることができます（プレビューには <a href="./vivliostyle-viewer">Vivliostyle Viewer</a> が使われます）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview index.html</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview https://example.com --user-style my-style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview publication.json</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview epub-sample.epub --user-style my-style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview manuscript.md --theme my-theme/style.css</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="多数の文書から構成される出版物をすばやくプレビュー" tabindex="-1">多数の文書から構成される出版物をすばやくプレビュー <a class="header-anchor" href="#多数の文書から構成される出版物をすばやくプレビュー" aria-label="Permalink to &quot;多数の文書から構成される出版物をすばやくプレビュー&quot;">​</a></h3><p>多数の文書から構成される出版物をすばやくプレビューするためには、<code>-q</code> (<code>--quick</code>) オプションを指定してください。このオプションでは大まかなページ数カウントを使って迅速に文書をロードします（ページ番号の出力は不正確になります）。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview index.html --quick</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview publication.json --quick</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle preview epub-sample.epub --quick</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="vivliostyle-themes-について" tabindex="-1">Vivliostyle Themes について <a class="header-anchor" href="#vivliostyle-themes-について" aria-label="Permalink to &quot;Vivliostyle Themes について&quot;">​</a></h2><ul><li><a href="https://vivliostyle.github.io/themes/" target="_blank" rel="noreferrer">Vivliostyle Themes</a></li></ul><h3 id="theme-を見つける" tabindex="-1">Theme を見つける <a class="header-anchor" href="#theme-を見つける" aria-label="Permalink to &quot;Theme を見つける&quot;">​</a></h3><p>npm パッケージとして公開されている Theme を見つけるには <a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm</a> でキーワード &quot;vivliostyle-theme&quot; を検索してください:</p><ul><li><a href="https://www.npmjs.com/search?q=keywords%3Avivliostyle-theme" target="_blank" rel="noreferrer">List of Themes (npm)</a></li></ul><h3 id="theme-のインストール" tabindex="-1">Theme のインストール <a class="header-anchor" href="#theme-のインストール" aria-label="Permalink to &quot;Theme のインストール&quot;">​</a></h3><p>Vivliostyle CLI で npm パッケージとして公開されている Theme を利用するには、そのインストールが必要です。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">npm install @vivliostyle/theme-techbook</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="create-book-の利用" tabindex="-1">Create Book の利用 <a class="header-anchor" href="#create-book-の利用" aria-label="Permalink to &quot;Create Book の利用&quot;">​</a></h3><p>Vivliostyle Themes を利用するより簡単な方法は Create Book を使用することです。<a href="./create-book">Create Book</a> を参照してください。</p><h2 id="構成ファイル-vivliostyle-config-js" tabindex="-1">構成ファイル vivliostyle.config.js <a class="header-anchor" href="#構成ファイル-vivliostyle-config-js" aria-label="Permalink to &quot;構成ファイル vivliostyle.config.js&quot;">​</a></h2><p>複数の記事や章ごとのファイルをまとめて１つの出版物を構成するには、構成ファイルを利用します。<code>vivliostyle build</code> または <code>vivliostyle preview</code> コマンドを実行するとき、カレントディレクトリに構成ファイル <code>vivliostyle.config.js</code> があるとそれが使われます。</p><h3 id="構成ファイルの作成" tabindex="-1">構成ファイルの作成 <a class="header-anchor" href="#構成ファイルの作成" aria-label="Permalink to &quot;構成ファイルの作成&quot;">​</a></h3><p>次のコマンドで構成ファイル <code>vivliostyle.config.js</code> を作成することができます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle init</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>これでカレントディレクトリに <code>vivliostyle.config.js</code> が生成されます。構成ファイルは JavaScript で記述され、これを編集することで様々な設定を変更できます。</p><h3 id="構成ファイルの設定内容" tabindex="-1">構成ファイルの設定内容 <a class="header-anchor" href="#構成ファイルの設定内容" aria-label="Permalink to &quot;構成ファイルの設定内容&quot;">​</a></h3><p>構成ファイルの設定内容についてはファイル内のコメント（<code>//</code> ではじまる）に説明があります。</p><ul><li><strong>title</strong>: 出版物のタイトル。例: <code>title: &#39;Principia&#39;</code>。</li><li><strong>author</strong>: 著者名。例: <code>author: &#39;Isaac Newton&#39;</code>。</li><li><strong>language</strong>: 言語。例: <code>language: &#39;en&#39;</code>。 この指定があると HTML の <code>lang</code> 属性に反映されます。</li><li><strong>size</strong>: ページサイズ。例: <code>size: &#39;A4&#39;</code>。</li><li><strong>theme</strong>: CSS ファイルを指定します。例: <code>theme: &#39;style.css&#39;</code>、または <a href="https://vivliostyle.github.io/themes/" target="_blank" rel="noreferrer">Vivliostyle Themes</a> のパッケージ名を指定します。例: <code>theme: &#39;@vivliostyle/theme-techbook&#39;</code>。</li><li><strong>entry</strong>: 入力の Markdown または HTML ファイルの配列を指定します。<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">introduction.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chapter1.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chapter2.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">glossary.html</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><ul><li><code>entry</code> の個別の要素に <code>title</code> や <code>theme</code> の指定が可能です。<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">about.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">About This Book</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">theme</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">about.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div></li></ul></li><li><strong>output</strong>: 出力先を指定。例: <code>output: &#39;output.pdf&#39;</code>。デフォルトは <code>{title}.pdf</code>。次のように複数の出力を指定することも可能:<div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./output.pdf</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./book</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpub</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><code>webpub</code> 出力については <a href="#web-出版物-webpub">Web 出版物 (webpub)</a> を参照してください。</li><li><strong>workspaceDir</strong>: 中間ファイルを保存するディレクトリを指定。この指定がない場合のデフォルトはカレントディレクトリであり、Markdown から変換された HTML ファイルは Markdown ファイルと同じ場所に保存されます。例: <code>workspaceDir: &#39;.vivliostyle&#39;</code></li><li><strong>toc</strong>: <code>toc: true</code> を指定すると、目次を含む HTML ファイル <code>index.html</code> が出力されます。詳しくは <a href="#目次の作成">目次の作成</a> を参照してください。</li></ul><h2 id="印刷用-pdf-pdf-x-1a-形式-の生成" tabindex="-1">印刷用 PDF（PDF/X-1a 形式）の生成 <a class="header-anchor" href="#印刷用-pdf-pdf-x-1a-形式-の生成" aria-label="Permalink to &quot;印刷用 PDF（PDF/X-1a 形式）の生成&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドの <code>--press-ready</code> オプションにより印刷入稿に適した PDF/X-1a 形式で出力することができます。</p><p>この機能を使うためには、事前に <a href="https://docs.docker.jp/get-docker.html" target="_blank" rel="noreferrer">Docker</a> のインストールが必要です。</p><h2 id="pdf-の「しおり」-bookmarks-の生成" tabindex="-1">PDF の「しおり」(Bookmarks) の生成 <a class="header-anchor" href="#pdf-の「しおり」-bookmarks-の生成" aria-label="Permalink to &quot;PDF の「しおり」(Bookmarks) の生成&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドで出力される PDF には、目次の内容が「しおり」(PDF Bookmarks) として生成されます。PDF の「しおり」は、Adobe Acrobat のような PDF 閲覧ソフトで目次ナビゲーションに利用できます。</p><p>この「しおり」生成機能は、出版物に目次が含まれるときに有効になります。<a href="#epub-から-pdf-を生成">EPUB から PDF を生成</a> の場合には、EPUB に含まれる目次が使われます。それ以外については次の <a href="#目次の作成">目次の作成</a> を参照してください。</p><h2 id="目次の作成" tabindex="-1">目次の作成 <a class="header-anchor" href="#目次の作成" aria-label="Permalink to &quot;目次の作成&quot;">​</a></h2><h3 id="構成ファイルでの目次生成の指定" tabindex="-1">構成ファイルでの目次生成の指定 <a class="header-anchor" href="#構成ファイルでの目次生成の指定" aria-label="Permalink to &quot;構成ファイルでの目次生成の指定&quot;">​</a></h3><p>構成ファイル <code>vivliostyle.config.js</code> に <code>toc: true</code> の指定がある場合、目次 HTML ファイル <code>index.html</code> が生成されて、それが出版物の先頭のファイルになります。</p><p>目次 HTML ファイルの名前を指定のものにするには <code>toc:</code> にファイル名を指定します。例: <code>toc: &#39;toc.html&#39;</code></p><p>生成される目次 HTML ファイルの内容は次のようになります。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Book Title</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publication.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publication</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">style.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Book Title</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">toc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">role</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">doc-toc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Table of Contents</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ol</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">prologue.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Prologue</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chapter1.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Chapter 1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chapter2.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Chapter 2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chapter3.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Chapter 3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">epilogue.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Epilogue</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ol</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="目次タイトルの指定" tabindex="-1">目次タイトルの指定 <a class="header-anchor" href="#目次タイトルの指定" aria-label="Permalink to &quot;目次タイトルの指定&quot;">​</a></h3><ul><li>目次 HTML の <code>title</code> と <code>h1</code> 要素には、出版物のタイトル（構成ファイルの <code>title</code> で指定）が出力されます。</li><li>目次タイトル（<code>nav</code> 要素内の見出し<code>h2</code> 要素の内容 &quot;Table of Contents&quot;）は、構成ファイルの <code>tocTitle</code> で指定することができます。例: <code>tocTitle: &#39;Contents&#39;</code>。</li></ul><h3 id="目次を出版物の先頭以外の場所に出力するには" tabindex="-1">目次を出版物の先頭以外の場所に出力するには <a class="header-anchor" href="#目次を出版物の先頭以外の場所に出力するには" aria-label="Permalink to &quot;目次を出版物の先頭以外の場所に出力するには&quot;">​</a></h3><p>構成ファイル <code>vivliostyle.config.js</code> の <code>entry</code> の配列の要素として <code>{ rel: &#39;contents&#39; }</code> を指定すると、その位置に目次 HTML ファイルが生成されます。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">titlepage.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">rel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">contents</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chapter1.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">toc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toc.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><p>これで、出版物の先頭の HTML ファイルは <code>titlepage.html</code> で、その次に目次の HTML ファイル <code>toc.html</code> という順番になります。</p><h3 id="目次を自分で作成するには" tabindex="-1">目次を自分で作成するには <a class="header-anchor" href="#目次を自分で作成するには" aria-label="Permalink to &quot;目次を自分で作成するには&quot;">​</a></h3><p>目次を自分で作成するには、次のように、構成ファイルの <code>entry</code> の配列の要素として目次のファイルのパスと <code>rel: &#39;contents&#39;</code> を指定してください。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">titlepage.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toc.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">rel</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">contents</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">chapter1.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><p>目次の作り方については <a href="https://www.w3.org/TR/pub-manifest/" target="_blank" rel="noreferrer">W3C Publication Manifest</a> 仕様に付属の <a href="https://www.w3.org/TR/pub-manifest/#app-toc-structure" target="_blank" rel="noreferrer">Machine-Processable Table of Contents</a> を参照してください。</p><h2 id="web-出版物-webpub" tabindex="-1">Web 出版物 (webpub) <a class="header-anchor" href="#web-出版物-webpub" aria-label="Permalink to &quot;Web 出版物 (webpub)&quot;">​</a></h2><p><code>vivliostyle build</code> コマンドに <code>-f</code> (<code>--format</code>） オプションで <code>webpub</code> を指定すると、Web 出版物 (webpub) を生成します。出力先 <code>-o</code> (<code>--output</code>) オプションには webpub を配置するディレクトリを指定します。</p><p>（以下の例では、入力の Markdown や HTML ファイルの指定は構成ファイル <code>vivliostyle.config.js</code> に記述されているものとします）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build -o webpub/ -f webpub</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>生成された webpub ディレクトリ内には出版物マニフェスト <code>publication.json</code> ファイルがあり、コンテンツの HTML ファイルの読み込み順などの情報が記述されています。W3C 標準仕様である <a href="https://www.w3.org/TR/pub-manifest/" target="_blank" rel="noreferrer">Publication Manifest</a> に準拠しています。</p><p>webpub は、Web 上で読むことができる出版物を作るのに使えます。また、次のように <code>publication.json</code> ファイルを <code>vivliostyle build</code> コマンドに指定することで、webpub から PDF を生成することができます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build webpub/publication.json -o pdfbook.pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>また、次のように1回の <code>vivliostyle build</code> コマンドで webpub と PDF の両方を生成することもできます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle build -o webpub/ -f webpub -o pdfbook.pdf -f pdf</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="その他のオプション" tabindex="-1">その他のオプション <a class="header-anchor" href="#その他のオプション" aria-label="Permalink to &quot;その他のオプション&quot;">​</a></h2><p><code>vivliostyle help</code> コマンドで Vivliostyle CLI で利用可能なオプションの一覧を表示できます。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">vivliostyle help</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle help init</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle help build</span></span>
<span class="line"><span style="color:#A6ACCD;">vivliostyle help preview</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>以下もご覧ください:</p><ul><li><a href="https://github.com/vivliostyle/vivliostyle-cli/blob/main/README.md#readme" target="_blank" rel="noreferrer">Vivliostyle CLI (README)</a></li></ul>`,117),p=[o];function t(c,r,i,y,D,d){return l(),a("div",null,p)}const h=s(e,[["render",t]]);export{C as __pageData,h as default};
